# ===================
# Runtime
# ===================
NODE_ENV=production
HOST=0.0.0.0
PORT=1337

# ===================
# Domain + TLS (used by Caddy reverse proxy)
# ===================
API_DOMAIN=api.example.com
ACME_EMAIL=ops@example.com

# ===================
# Database (Docker network)
# ===================
DATABASE_CLIENT=postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=strapi
DATABASE_USERNAME=strapi
DATABASE_PASSWORD=change_this_secure_password_here
DATABASE_SSL=false

# ===================
# Strapi secrets (generate each once with: openssl rand -base64 32)
# ===================
APP_KEYS=key1,key2,key3,key4
API_TOKEN_SALT=base64_string
ADMIN_JWT_SECRET=base64_string
TRANSFER_TOKEN_SALT=base64_string
JWT_SECRET=base64_string

# ===================
# Strapi public URL + proxy trust
# ===================
STRAPI_PUBLIC_URL=https://api.example.com
STRAPI_TRUST_PROXY=true

# ===================
# CORS allowlist (Cloudflare Pages production + preview origins)
# ===================
CORS_ALLOWED_ORIGINS=https://example.com,https://www.example.com,https://your-project.pages.dev
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,HEAD,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,Origin,Accept

# ===================
# Email (Resend)
# ===================
RESEND_API_KEY=
EMAIL_FROM=noreply@geosolutions.nz
EMAIL_REPLY_TO=info@geosolutions.nz
EMAIL_NOTIFICATIONS_TO=fabienbrocklesby@icloud.com

# ===================
# Legacy migration (run from your workstation or VPS shell)
# ===================
LEGACY_SITE_URL=https://geosolutions.nz
MIGRATION_OUTPUT_DIR=migration-output/legacy-site-export
MIGRATION_SEED_PATH=
MIGRATION_MEDIA_DIR=
MIGRATION_MEDIA_MAP_PATH=
MIGRATION_PAGE_SIZE=100
MIGRATION_TIMEOUT_MS=30000
MIGRATION_STRAPI_URL=https://api.example.com
MIGRATION_STRAPI_TOKEN=
# MIGRATION_EXPORT_ARGS=--skip-media
# MIGRATION_IMPORT_ARGS=--skip-media
